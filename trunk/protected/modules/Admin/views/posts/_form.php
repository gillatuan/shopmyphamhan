<div class="tab-content">    <?php $form = $this->beginWidget('CActiveForm', array(        'id'                     => 'posts-form',        'enableClientValidation' => true,        'enableAjaxValidation'   => true,        'clientOptions'          => array('validateOnSubmit' => true,),        'htmlOptions'            => array('enctype' => 'multipart/form-data')    ));?>    <p class="note">Fields with <span class="required">*</span> are required.</p>    <?php echo $form->errorSummary($model); ?>    <div class="row">        <?php echo $form->labelEx($model, 'title'); ?>        <?php echo $form->textField($model, 'title', array('class' => 'text-input medium-input')); ?>        <?php echo $form->error($model, 'title'); ?>    </div>    <div class="row">        <?php echo $form->labelEx($model, 'info'); ?>        <?php echo $form->textArea($model, 'info', array('rows' => 8, 'class' => 'medium-input')); ?>        <?php echo $form->error($model, 'info'); ?>    </div>    <div class="row tinymce">        <?php echo $form->labelEx($model, 'description'); ?>        <?php        $this->widget('ext.tinymce.TinyMce', array(            'model' => $model,            'attribute' => 'description',            // Optional config            'compressorRoute' => 'tinyMce/compressor',            'spellcheckerUrl' => array('tinyMce/spellchecker'),            // or use yandex spell: http://api.yandex.ru/speller/doc/dg/tasks/how-to-spellcheck-tinymce.xml            //                'spellcheckerUrl' => 'http://speller.yandex.net/services/tinyspell',            'fileManager' => array(                'class' => 'ext.elFinder.TinyMceElFinder',                'connectorRoute'=> 'elfinder/connector', // elfinder controller, connector action            ),            'htmlOptions' => array(                'rows' => 6,                'cols' => 60,            ),        ));        ?>        <?php echo $form->error($model, 'description'); ?>    </div>    <?php echo $form->hiddenField($model, "image"); ?>    <div class="row">        <?php echo $form->labelEx($model, 'image'); ?>        <?php $this->widget('CMultiFileUpload', array(        'name'      => 'image',        'accept'    => 'jpeg|jpg|gif|png|mp4', // useful for verifying files        'duplicate' => 'Duplicate file!', // useful, i think        'denied'    => 'Invalid file type', // useful, i think    ));        echo $form->error($model, 'image');        if ($model->image):            $image = explode(',', $model->image);            foreach ($image as $k => $file):                ?>                <div class="clearfix"></div>                <span><?php echo $file; ?> &nbsp;<a href="javascript:;"                    onclick="javascript:removeFile('<?php echo $file; ?>', <?php echo $k; ?>)" title="Remove"                    class="remove_<?php echo $k; ?>">Remove File</a></span>                <div class="clearfix"></div>                <?php            endforeach;        endif;?>    </div>    <div class="row">        <?php echo $form->labelEx($model, 'tags'); ?>        <?php $this->widget('CAutoComplete', array(        'model'       => $model,        'attribute'   => 'tags',        'url'         => array('/admin/posts/suggestTags'),        'multiple'    => true,        'htmlOptions' => array(            'class' => 'text-input medium-input'        ),    )); ?>        <p class="hint">Please separate different tags with commas.</p>        <?php echo $form->error($model, 'tags'); ?>    </div>    <?php if (!$model->isNewRecord) { ?>    <div class="row">        <?php echo $form->labelEx($model, 'alias'); ?>        <?php echo $model->alias; ?>    </div>    <div class="row">        <?php echo $form->labelEx($model, 'status'); ?>        <?php echo $form->dropDownList($model, 'status', Lookup::items('Status')); ?>        <?php echo $form->error($model, 'status'); ?>    </div>    <div class="row">        <?php echo $form->labelEx($model, 'create_date'); ?>        <?php echo Helper::getTimeAgo($model->create_date); ?>    </div>    <div class="row">        <?php echo $form->labelEx($model, 'update_date'); ?>        <?php echo Helper::getTimeAgo($model->update_date); ?>    </div>    <?php } ?>    <div class="row">        <?php echo $form->labelEx($model, 'priority'); ?>        <?php echo $form->checkBox($model, 'priority'); ?>        <?php echo $form->error($model, 'priority'); ?>    </div>    <div class="row buttons">        <?php echo CHtml::submitButton($model->isNewRecord ? 'Create' : 'Save'); ?>    </div>    <?php $this->endWidget(); ?></div><!-- form --><?php$scriptDelete = '    if("' . $model->image . '" != ""){        function removeFile(fileName, pos) {            var url = "' . Helper::url('/Admin/default/deleteimage') .'";            var imageID = "' . $model->id . '";            $.post(                url, { imageID: imageID, imageName: fileName, model: "Posts" },                function(data){                    $("a.remove_"+pos).parent().remove();                    parent.window.location = parent.window.location                }, "json"            );            return false;        }    }';Helper::cs()->registerScript('scriptDelete', $scriptDelete, CClientScript::POS_END);